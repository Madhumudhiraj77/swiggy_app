import{g as v,j as t,N as S,h as E,u as R,n as b,r as i,a as C,L as P}from"./index-ckQCI9xy.js";import{R as $}from"./RestaurantCard-CXOGsGfI.js";const k=()=>{const n=v(),c=()=>{n(E.HOME)};return t.jsxs("div",{className:" flex flex-col md:w-8/12 lg:w-6/12 justify-center items-center  m-auto text-center gap-4 py-5",children:[t.jsx("img",{className:"max-h-80 w-auto object-contain",src:S,alt:"Not found",loading:"lazy"}),t.jsx("h1",{className:"font-bold text-2xl",children:"Page not found"}),t.jsx("p",{className:"text-gray-600",children:"Uh-oh! Looks like the page you are trying to access, doesn't exist. Please start afresh."}),t.jsx("button",{onClick:c,className:"uppercase bg-[#ff5200] text-white px-4 py-2 font-bold rounded hover:bg-[#e64900] transition-all",children:"GO Home"})]})},M=()=>{var d,m;const{collectionId:n}=R(),[c]=b(),p=c.get("tags"),[a,u]=i.useState([]),[f,h]=i.useState(!0);i.useEffect(()=>{(async()=>{var r,l;try{let o=await fetch(`https://swiggy-app-clone.vercel.app/proxy?url=${encodeURIComponent(`https://www.swiggy.com/dapi/restaurants/list/v5?lat=17.387158&lng=78.545031&collection=${n}&tags=${p}&sortBy=&filters=&type=rcv2`)}`);if(!o.ok)throw new Error("Error fetching data");let s=await o.json();h(!1),console.log("jsonResponse madhu",(r=s==null?void 0:s.data)==null?void 0:r.cards),u(((l=s==null?void 0:s.data)==null?void 0:l.cards)||[])}catch(o){console.error("Error while fetching data:",o)}})()},[n,c.toString()]);const y=i.useMemo(()=>a==null?void 0:a.filter(e=>{var r;return((r=e==null?void 0:e.card)==null?void 0:r.card["@type"])==="type.googleapis.com/swiggy.presentation.food.v2.Restaurant"}),[a]);if(console.log("catResData",a),f)return t.jsx(C,{});if(a.length===0)return t.jsx(k,{});const{title:N="",description:j="",count:w=0}=((m=(d=a[0])==null?void 0:d.card)==null?void 0:m.card)||{};return t.jsxs("div",{className:"max-w-[1200px] mx-auto p-5",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"font-bold text-[20px] md:text-[40px]",children:N}),t.jsx("p",{className:"font-medium text-[16px] md:text-[20px] text-gray-600",children:j}),t.jsxs("p",{className:"font-bold text-[16px] md:text-[18px] my-4",children:[w," ","to explore"]})]}),t.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:y.map(e=>{var s,x,g;const{areaName:r,name:l,id:o}=((x=(s=e==null?void 0:e.card)==null?void 0:s.card)==null?void 0:x.info)||{};return t.jsx(P,{to:`/${r}/${l}/${o}`,children:t.jsx($,{data:(g=e==null?void 0:e.card)==null?void 0:g.card})},o)})})]})};export{M as default};
