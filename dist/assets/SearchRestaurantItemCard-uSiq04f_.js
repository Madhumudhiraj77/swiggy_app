import{n as g,u as S,r as u,j as t,L as x,t as f}from"./index-ckQCI9xy.js";import{R as A}from"./RestaurantCard-CXOGsGfI.js";const j=()=>{const[l]=g(),{resId:m}=S(),i=l.get("query"),[p,R]=u.useState([]);return u.useEffect(()=>{(async()=>{var c,o,r,a;try{const s=`${f}${encodeURIComponent(i)}&trackingId=null&submitAction=STORED_SEARCH&queryUniqueId=null&selectedPLTab=RESTAURANT`;let n=await(await fetch(`https://swiggy-app-clone.vercel.app/proxy?url=${encodeURIComponent(s)}`)).json();console.log("jsonResponse",n),R((a=(r=(o=(c=n==null?void 0:n.data.cards[0])==null?void 0:c.groupedCard)==null?void 0:o.cardGroupMap)==null?void 0:r.RESTAURANT)==null?void 0:a.cards)}catch(s){console.log("Error while fetching selected search item",s)}})()},[l]),t.jsxs("div",{className:"max-w-[1200px] mx-auto p-5",children:[t.jsxs("h1",{children:["Restaurant Search Results for: ",i," ",m]}),t.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:p.map(e=>{var a,s,d;const{areaName:c,name:o,id:r}=((s=(a=e==null?void 0:e.card)==null?void 0:a.card)==null?void 0:s.info)||{};return t.jsx(x,{to:`/${c}/${o}/${r}`,children:t.jsx(A,{data:(d=e==null?void 0:e.card)==null?void 0:d.card})},r)})})]})};export{j as default};
