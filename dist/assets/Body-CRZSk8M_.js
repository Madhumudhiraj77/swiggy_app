import{G as S,r as c,j as e,L as g,S as R,a as W,b as k}from"./index-ckQCI9xy.js";import{R as E}from"./RestaurantCard-CXOGsGfI.js";function L(t){return S({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},child:[]}]})(t)}function z(t){return S({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"},child:[]}]})(t)}const C=({categoriesData:t})=>{var f,n,w;const{header:a,imageGridCards:r}=t,s=((n=(f=t==null?void 0:t.imageGridCards)==null?void 0:f.info)==null?void 0:n.length)||0,[o,i]=c.useState(0),l=c.useRef(null),m=146*4,x=d=>{l.current&&l.current.scrollBy({left:d==="left"?-584:m,behavior:"smooth"})},u=140*(s-1-(window.innerWidth>1024?1024/146:window.innerWidth/146));return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" md:flex justify-between items-center",children:[e.jsx("div",{className:"font-extrabold text-[16px] md:text-[20px] mb-4",children:e.jsx("h2",{children:a.title})}),e.jsxs("div",{className:"hidden md:flex items-center",children:[e.jsx("button",{className:"bg-[#e2e2e7] w-[30px] h-[30px] rounded-full mx-2 flex items-center justify-center disabled:opacity-50 ",onClick:()=>x("left"),disabled:o===0,children:e.jsx(L,{size:14})}),e.jsx("button",{className:"bg-[#e2e2e7] w-[30px] h-[30px] rounded-full mx-2 flex items-center justify-center  disabled:opacity-50",onClick:()=>x("right"),disabled:o>u,children:e.jsx(z,{size:14})})]})]}),e.jsx("div",{ref:l,className:"flex gap-2.5",style:{overflow:"auto",scrollbarWidth:"none",msOverflowStyle:"none"},onScroll:d=>i(d.target.scrollLeft),children:(w=r==null?void 0:r.info)==null?void 0:w.map(d=>e.jsx("div",{className:" shrink-0 ",children:e.jsx(g,{to:`${d.action.link.slice(22)}`,children:e.jsx("img",{className:"object-cover w-full h-[170px] ",src:R+d.imageId,alt:"category_item",loading:"lazy"})})},d.id))}),e.jsx("hr",{className:"my-4 md:my-10 border-[#f2f2f3] border-[1px]"})]})},I=({topRestaurantData:t})=>{const{gridElements:a,header:r}=t,[s,o]=c.useState(window.screen.width>=768&&window.screen.width<1024?3:4),[i,l]=c.useState(0),m=a.infoWithStyle.restaurants.length;let x=Math.ceil(m-s);const h=()=>{i<=0||l(n=>n<=0?0:n-s)},u=()=>{l(n=>n<x?n+s:n)};c.useEffect(()=>{const n=()=>{window.screen.width>=768&&window.screen.width<1024?o(3):o(4)};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]);const f=()=>{};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-[16px]",children:[e.jsx("h2",{className:"font-extrabold text-[16px] md:text-[20px]",children:r.title}),e.jsxs("div",{className:"hidden md:flex items-center",children:[e.jsx("button",{className:"bg-[#e2e2e7] w-[30px] h-[30px] rounded-full mx-2 flex items-center justify-center disabled:opacity-50 ",onClick:h,disabled:i<=0,children:e.jsx(L,{size:14})}),e.jsx("button",{className:"bg-[#e2e2e7] w-[30px] h-[30px] rounded-full mx-2 flex items-center justify-center  disabled:opacity-50",onClick:u,disabled:i>=x,children:e.jsx(z,{size:14})})]})]}),a.infoWithStyle.restaurants.length===0?e.jsx("p",{className:"text-gray-500 mt-4",children:"No restaurants available at the moment."}):e.jsx("div",{className:"flex  overflow-x-scroll md:overflow-hidden",children:a.infoWithStyle.restaurants.map(n=>e.jsx("div",{className:"w-6/12 sm:w-6/12 md:w-4/12 lg:w-3/12 flex-shrink-0 px-2 transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${i*100}%)`},onClick:f,children:e.jsxs(g,{to:`/${n.info.areaName}/${n.info.name}/${n.info.id}`,children:[" ",e.jsx(E,{data:n})," "]})},n.info.id))}),e.jsx("hr",{className:"my-4 md:my-10 border-[#f2f2f3] border-[1px]"})]})},P=({onlineRestaurantData:t,title:a})=>{const{gridElements:r}=t;return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"font-extrabold text-[16px] md:text-[20px] mb-4",children:a}),r.infoWithStyle.restaurants.length===0?e.jsx("p",{className:"text-gray-500 mt-4",children:"No restaurants available at the moment."}):e.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:r.infoWithStyle.restaurants.map(s=>{var o,i,l,m;return e.jsx(g,{to:`/${(o=s==null?void 0:s.info)==null?void 0:o.areaName}/${(i=s==null?void 0:s.info)==null?void 0:i.name}/${(l=s==null?void 0:s.info)==null?void 0:l.id}`,children:e.jsx(E,{data:s})},(m=s==null?void 0:s.info)==null?void 0:m.id)})}),e.jsx("hr",{className:"my-4 md:my-10 border-[#f2f2f3] border-[1px]"})]})},$=()=>{const[t,a]=c.useState(window.innerWidth<768);return c.useEffect(()=>{const r=()=>{a(window.innerWidth<768)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t},M=()=>{var o,i,l,m,x,h,u,f,n,w,d,b,y,N;$();const[t,a]=c.useState([]),[r,s]=c.useState(!1);return c.useEffect(()=>{(async()=>{var v;try{s(!0);let j=await fetch(k,{headers:{"Cache-Control":"no-cache"}});if(!j.ok)throw new Error("Error fetching data");let p=await j.json();a(((v=p==null?void 0:p.data)==null?void 0:v.cards)||[])}catch(j){console.error("Error while fetching data:",j)}finally{s(!1)}})()},[]),r?e.jsx(W,{}):e.jsxs("div",{className:"max-w-[1200px] mx-auto p-5",children:[((i=(o=t==null?void 0:t[0])==null?void 0:o.card)==null?void 0:i.card)&&e.jsx(C,{categoriesData:(l=t[0])==null?void 0:l.card.card}),((x=(m=t==null?void 0:t[1])==null?void 0:m.card)==null?void 0:x.card)&&e.jsx(I,{topRestaurantData:(u=(h=t[1])==null?void 0:h.card)==null?void 0:u.card}),((n=(f=t==null?void 0:t[4])==null?void 0:f.card)==null?void 0:n.card)&&e.jsx(P,{onlineRestaurantData:(d=(w=t[4])==null?void 0:w.card)==null?void 0:d.card,title:(N=(y=(b=t[2])==null?void 0:b.card)==null?void 0:y.card)==null?void 0:N.title})]})};export{M as default};
