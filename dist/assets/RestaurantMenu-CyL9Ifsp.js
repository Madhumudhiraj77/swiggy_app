import{G as L,j as t,R as k,c as F,u as H,r as g,d as K,B as P,e as _}from"./index-ckQCI9xy.js";import{R as V}from"./RestaurantItem-sCZ6DM6x.js";function W(n){return L({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"},child:[]}]})(n)}function q(n){return L({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"},child:[]}]})(n)}const J=({resCategoryData:n,showItems:a,setExpandedIndex:p,setAllCollapse:m})=>{const{title:c,itemCards:s}=n,u=()=>{a?m():p()};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center",onClick:u,children:[t.jsxs("h1",{className:"font-bold text-[18px]",children:[c," (",(s==null?void 0:s.length)||0,")"]}),t.jsx("button",{children:a?t.jsx(q,{size:40}):t.jsx(W,{size:40})})]}),a&&(s==null?void 0:s.length)>0&&s.map((i,x,l)=>t.jsxs(k.Fragment,{children:[t.jsx(V,{resItem:i.card,customBgColor:F[x%F.length]}),x!==l.length-1&&t.jsx("hr",{className:" border-[#f2f2f3] border-[1px] my-4"})]},i.card.id))]})},Y=()=>{var h,j,w,y,b,N,R,v,E,M,I,A,D,S;const{resId:n}=H(),[a,p]=g.useState([]),[m,c]=g.useState(null);if(g.useEffect(()=>{(async()=>{var r;try{const d=await fetch(_+n);if(!d.ok)throw new Error("Error fetching restaurant menu data");const o=await d.json();p(((r=o==null?void 0:o.data)==null?void 0:r.cards)||[])}catch(d){console.error("Error fetching restaurant menu",d)}})()},[n]),a.length===0)return t.jsx(K,{});const{text:s}=((j=(h=a[0])==null?void 0:h.card)==null?void 0:j.card)||{},{avgRating:u,totalRatingsString:i,costForTwoMessage:x,cuisines:l,areaName:U,sla:f}=((b=(y=(w=a[2])==null?void 0:w.card)==null?void 0:y.card)==null?void 0:b.info)||{},T=(((E=(v=(R=(N=a[4])==null?void 0:N.groupedCard)==null?void 0:R.cardGroupMap)==null?void 0:v.REGULAR)==null?void 0:E.cards)||[]).filter(e=>{var r;return((r=e==null?void 0:e.card)==null?void 0:r.card["@type"])==="type.googleapis.com/swiggy.presentation.food.v2.ItemCategory"});return(S=(D=(A=(I=(M=a[4])==null?void 0:M.groupedCard)==null?void 0:I.cardGroupMap)==null?void 0:A.REGULAR)==null?void 0:D.cards)==null||S.filter(e=>{var r;return((r=e==null?void 0:e.card)==null?void 0:r.card["@type"])==="type.googleapis.com/swiggy.presentation.food.v2.NestedItemCategory"}),t.jsxs("div",{className:"w-11/12 md:w-9/12 lg:w-7/12 m-auto",children:[t.jsx("h1",{className:"text-[16px] md:text-[26px] font-bold truncate my-4 pl-4",children:s}),t.jsx("div",{className:"bg-gradient-to-b from-white via-[#EBEBF2] to-[#DFDFE7] p-4 pt-0 rounded-4xl mb-5",children:t.jsxs("div",{className:" border p-4 bg-white rounded-3xl",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"md:w-[20px] md:h-[20px] w-[16px] h-[16px] rounded-full bg-[#198d3e] flex justify-center items-center p-1 mr-2",children:t.jsx(P,{fontSize:14,className:"text-white inline",strokeWidth:2,fill:"white"})}),t.jsxs("span",{className:"text-[13px] md:text-[16px]  font-bold truncate",children:[u," (",i,") ",x]})]}),t.jsx("h6",{className:"text-[13px] md:text-[16px] text-[#ff5200] font-semibold truncate underline",children:l==null?void 0:l.join(", ")}),t.jsx("h6",{className:"text-[13px] md:text-[16px] font-bold  truncate",children:U}),t.jsx("h6",{className:"text-[13px] md:text-[16px] font-bold  truncate",children:f==null?void 0:f.slaString})]})}),t.jsx("h1",{className:"m-auto w-full text-center font-bold text-[18px]",children:"MENU"}),T.map((e,r,d)=>{var o,C,z,B,G;return t.jsxs("div",{children:[t.jsx(J,{resCategoryData:(o=e==null?void 0:e.card)==null?void 0:o.card,showItems:r===m,setExpandedIndex:()=>c(r),setAllCollapse:()=>c(null)},(z=(C=e==null?void 0:e.card)==null?void 0:C.card)==null?void 0:z.categoryId),r!==d.length-1&&t.jsx("hr",{className:" border-[#f2f2f3] border-[4px] my-4"})]},(G=(B=e==null?void 0:e.card)==null?void 0:B.card)==null?void 0:G.categoryId)})]})};export{Y as default};
